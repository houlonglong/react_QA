<html>

<head>
    <meta charset="utf-8">
    <title>学习React！！</title>
</head>

<body>
    <div id="app"></div>
    <script src="bower_components/react/react.js"></script>
    <script src="bower_components/react/JSXTransformer.js"></script>
	<script type="text/jsx">
		var MessageBox = React.createClass({
			getInitialState:function(){
				console.log('得到初始状态1');
				return {
					count:0
				};
			},
			getDefaultProps:function(){
				console.log('得到默认状态2');
				return {};

			},
			componentWillMount: function(){
				console.log('组件将挂载');
				var self = this;
				this.timer = setInterval(function(){
					self.setState({
						count:self.state.count+1,
					})
				},1000)
			},
			componentDidMount: function(){
				console.log('组件已经安装');
				console.log(this.getDOMNode());
				return {};
			},
			componentWillUnmount:function(){
                alert('你确定删除吗?');
				clearInterval(this.timer);
			},
			shanchu:function(){
				React.unmountComponentAtNode(document.getElementById('app'));
			},
			render:function(){
                console.log('渲染')
				return(
						<div>{this.state.count}
						<button onClick={this.shanchu} >删除</button>
						</div>
				)
			}

		});
		var messageBox = React.render(<MessageBox/>,
				document.getElementById('app')
		)
	</script>


</body>

</html>